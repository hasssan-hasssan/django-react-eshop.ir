(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(27),n=a.n(c),s=a(7),i=a(40),o=a(71),d=a(72),j=a(10),l="PRODUCT_LIST_REQUEST",u="PRODUCT_LIST_SUCCESS",b="PRODUCT_LIST_FAIL",h="PRODUCT_DETAILS_REQUEST",p="PRODUCT_DETAILS_SUCCESS",O="PRODUCT_DETAILS_FAIL",x=a(37),m="CART_ADD_ITEM",f="CART_REMOVE_ITEM",g="CART_SAVE_SHIPPING_ADDRESS",y="CART_SAVE_PAYMENT_METHOD",v="CART_CLEAR_ITEMS",I="USER_LOGIN_REQUEST",S="USER_LOGIN_SUCCESS",E="USER_LOGIN_FAIL",C="USER_LOGOUT",L="USER_REGISTER_REQUEST",_="USER_REGISTER_SUCCESS",N="USER_REGISTER_FAIL",k="USER_DETAILS_REQUEST",P="USER_DETAILS_SUCCESS",R="USER_DETAILS_FAIL",w="USER_DETAILS_RESET",T="USER_UPDATE_PROFILE_REQUEST",A="USER_UPDATE_PROFILE_SUCCESS",D="USER_UPDATE_PROFILE_FAIL",U="USER_UPDATE_PROFILE_RESET",F="ORDER_CREATE_REQUEST",M="ORDER_CREATE_SUCCESS",G="ORDER_CREATE_FAIL",q="ORDER_CREATE_RESET",$="ORDER_DETAILS_REQUEST",J="ORDER_DETAILS_SUCCESS",Y="ORDER_DETAILS_FAIL",Q="ORDER_LIST_MY_REQUEST",B="ORDER_LIST_MY_SUCCESS",H="ORDER_LIST_MY_FAIL",V="ORDER_LIST_MY_RESET",z=Object(i.combineReducers)({listProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{products:[],loading:!0};case u:return{products:t.payload,loading:!1};case b:return{error:t.payload,loading:!1};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case p:return{product:t.payload,loading:!1};case O:return{error:t.payload,loading:!1};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},paymentMethod:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var a=t.payload,r=e.cartItems.find((function(e){return e.product===a.product}));return r?Object(j.a)(Object(j.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?a:e}))}):Object(j.a)(Object(j.a)({},e),{},{cartItems:[].concat(Object(x.a)(e.cartItems),[a])});case f:return Object(j.a)(Object(j.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case g:return Object(j.a)(Object(j.a)({},e),{},{shippingAddress:t.payload});case y:return Object(j.a)(Object(j.a)({},e),{},{paymentMethod:t.payload});case v:return Object(j.a)(Object(j.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case S:return{loading:!1,userInfo:t.payload};case E:return{loading:!1,error:t.payload};case C:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case _:return{loading:!1,userInfo:t.payload};case N:return{loading:!1,error:t.payload};case C:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case P:return{loading:!1,user:t.payload};case R:return{loading:!1,error:t.payload};case w:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{loading:!0};case A:return{loading:!1,userInfo:t.payload,success:!0};case D:return{loading:!1,error:t.payload};case U:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0};case M:return{loading:!1,success:!0,order:t.payload};case G:return{loading:!1,error:t.payload};case q:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case J:return{loading:!1,order:t.payload};case Y:return{loading:!1,error:t.payload};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{loading:!0};case B:return{loading:!1,orders:t.payload};case H:return{loading:!1,error:t.payload};case V:return{orders:[]};default:return e}}}),X=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],W=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,K={cart:{cartItems:X,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):{}},userLogin:{userInfo:W}},Z=[o.a],ee=Object(i.createStore)(z,K,Object(d.composeWithDevTools)(i.applyMiddleware.apply(void 0,Z))),te=(a(88),a(89),a(129)),ae=a(122),re=a(131),ce=a(127),ne=a(24),se=a(11),ie=a.n(se),oe=a(19),de="https://django-react-eshop.ir",je="api/v1",le=a(26),ue=a.n(le),be=a(73),he=a(60),pe=a.n(he),Oe=function(e,t){var a=ue.a.create({baseURL:"",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.access)}});return a.interceptors.request.use(function(){var a=Object(oe.a)(ie.a.mark((function a(r){var c,n;return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=Object(be.a)(e.access),pe.a.unix(c.exp).diff(pe()())<5e3){a.next=4;break}return a.abrupt("return",r);case 4:return a.next=6,ue.a.post("".concat(de,"/").concat(je,"/users/token/refresh/"),{refresh:e.refresh});case 6:return n=a.sent,t(me(n.data)),r.headers.Authorization="Bearer ".concat(n.data.access),a.abrupt("return",r);case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),a},xe=function(){return function(e){localStorage.removeItem("userInfo"),e({type:C}),e({type:w}),e({type:V})}},me=function(e){return function(t,a){var r=a().userLogin.userInfo;r.access=e.access,r.refresh=e.refresh,t({type:S,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}},fe=a(1);var ge=function(){var e=Object(s.c)((function(e){return e.userLogin})).userInfo,t=Object(s.b)();return Object(fe.jsx)("header",{children:Object(fe.jsx)(te.a,{bg:"dark",variant:"dark",expand:"sm",collapseOnSelect:!0,children:Object(fe.jsxs)(ae.a,{children:[Object(fe.jsx)(ne.LinkContainer,{to:"/",children:Object(fe.jsx)(te.a.Brand,{children:"E-Shop"})}),Object(fe.jsx)(te.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(fe.jsx)(te.a.Collapse,{id:"basic-navbar-nav",children:Object(fe.jsxs)(re.a,{className:"mr-auto",children:[Object(fe.jsx)(ne.LinkContainer,{to:"/cart",children:Object(fe.jsxs)(re.a.Link,{children:[Object(fe.jsx)("i",{className:"fas fa-shopping-cart"}),"Cart"]})}),e?Object(fe.jsxs)(ce.a,{title:e.name,id:"username",children:[Object(fe.jsx)(ne.LinkContainer,{to:"/profile",children:Object(fe.jsx)(ce.a.Item,{children:"Profile"})}),Object(fe.jsx)(ce.a.Item,{onClick:function(){t(xe())},children:"Logout"})]}):Object(fe.jsx)(ne.LinkContainer,{to:"/login",children:Object(fe.jsxs)(re.a.Link,{children:[Object(fe.jsx)("i",{className:"fas fa-user"}),"Login"]})})]})})]})})})},ye=a(123),ve=a(77);var Ie=function(){return Object(fe.jsx)("footer",{className:"bg-dark p-3 text-light",children:Object(fe.jsx)(ae.a,{children:Object(fe.jsx)(ye.a,{children:Object(fe.jsx)(ve.a,{children:"Copyright \xa9 E-Shop"})})})})},Se=a(132);var Ee=function(e){var t=e.value,a=e.text,r=e.color;return Object(fe.jsxs)("div",{className:"rating",children:[Object(fe.jsx)("span",{children:Object(fe.jsx)("i",{style:{color:r},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(fe.jsx)("span",{children:Object(fe.jsx)("i",{style:{color:r},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(fe.jsx)("span",{children:Object(fe.jsx)("i",{style:{color:r},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(fe.jsx)("span",{children:Object(fe.jsx)("i",{style:{color:r},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(fe.jsx)("span",{children:Object(fe.jsx)("i",{style:{color:r},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(fe.jsx)("span",{children:a&&a})]})},Ce=a(14);var Le=function(e){var t=e.product;return Object(fe.jsx)("div",{children:Object(fe.jsxs)(Se.a,{className:"p-3 my-3 rounded",children:[Object(fe.jsx)(Ce.Link,{to:"/product/".concat(t._id),children:Object(fe.jsx)(Se.a.Img,{src:t.image,className:"card-img-top"})}),Object(fe.jsxs)(Se.a.Body,{children:[Object(fe.jsx)(Ce.Link,{to:"/product/".concat(t._id),children:Object(fe.jsx)(Se.a.Title,{as:"h5",children:Object(fe.jsx)("strong",{children:t.name})})}),Object(fe.jsx)(Se.a.Text,{as:"div",className:"my-3",children:Object(fe.jsx)(Ee,{value:t.rating,text:"".concat(t.numReviews," reviews"),color:"#F8E825"})}),Object(fe.jsxs)(Se.a.Text,{as:"h3",children:["$",t.price]})]})]})})},_e=a(124);var Ne=function(){return Object(fe.jsx)(_e.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",display:"block",margin:"auto"},children:Object(fe.jsx)("span",{className:"sr-only",children:"Loading"})})},ke=a(130);var Pe=function(e){var t=e.variant,a=e.text;return Object(fe.jsx)(ke.a,{variant:t,children:a})};var Re=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.listProduct})),a=t.error,c=t.loading,n=t.products;return Object(r.useEffect)((function(){e(function(){var e=Object(oe.a)(ie.a.mark((function e(t){var a,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:l}),e.next=4,ue.a.get("".concat(de,"/").concat(je,"/products/"));case 4:a=e.sent,r=a.data,t({type:u,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:b,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(fe.jsxs)("div",{children:[Object(fe.jsx)("h1",{children:"Latest Products"}),c?Object(fe.jsx)(Ne,{}):a?Object(fe.jsx)(Pe,{variant:"danger",text:a}):Object(fe.jsx)(ye.a,{children:n.map((function(e){return Object(fe.jsx)(ve.a,{sm:12,md:6,lg:4,xl:3,children:Object(fe.jsx)(Le,{product:e})},e._id)}))})]})},we=a(13),Te=a(9),Ae=a(125),De=a(133),Ue=a(128),Fe=a(76);var Me=function(e){var t=e.match,a=e.history,c=Object(r.useState)(1),n=Object(Te.a)(c,2),i=n[0],o=n[1],d=Object(s.b)(),j=Object(s.c)((function(e){return e.productDetails})),l=j.error,u=j.loading,b=j.product;return Object(r.useEffect)((function(){var e;d((e=t.params.id,function(){var t=Object(oe.a)(ie.a.mark((function t(a){var r,c;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:h}),t.next=4,ue.a.get("".concat(de,"/").concat(je,"/products/").concat(e));case 4:r=t.sent,c=r.data,a({type:p,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:O,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[d,t]),Object(fe.jsxs)("div",{children:[Object(fe.jsx)(Ce.Link,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),u?Object(fe.jsx)(Ne,{}):l?Object(fe.jsx)(Pe,{variant:"danger",text:l}):Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{sm:12,md:5,lg:5,xl:5,children:Object(fe.jsx)(Ae.a,{src:b.image,alt:b.name})}),Object(fe.jsxs)(ve.a,{sm:12,md:7,lg:7,xl:7,children:[Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{sm:12,md:6,lg:6,xl:6,className:"my-3",children:Object(fe.jsxs)(De.a,{variant:"flush",children:[Object(fe.jsx)(De.a.Item,{children:Object(fe.jsx)("h5",{children:b.name})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsx)(Ee,{value:b.rating,text:"".concat(b.numReviews," reviews"),color:"#F8E825"})})]})}),Object(fe.jsx)(ve.a,{sm:12,md:6,lg:6,xl:6,className:"mb-3",children:Object(fe.jsxs)(De.a,{variant:"flush",children:[Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Price:"}),Object(fe.jsxs)(ve.a,{children:["$",b.price]})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Status:"}),Object(fe.jsx)(ve.a,{children:b.countInStock>0?"In Stock":"Out of Stock"})]})}),b.countInStock>0&&Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Qty:"}),Object(fe.jsx)(ve.a,{children:Object(fe.jsx)(Ue.a.Control,{as:"select",custom:!0,value:i,onChange:function(e){return o(e.target.value)},children:Object(x.a)(Array(b.countInStock).keys()).map((function(e){return Object(fe.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsx)(Fe.a,{onClick:function(){a.push("/cart/".concat(t.params.id,"?qty=").concat(i))},type:"button",className:"btn-block",disabled:0===b.countInStock,children:"Add to Cart"})})]})})]}),Object(fe.jsx)(ye.a,{children:Object(fe.jsxs)(ve.a,{className:"my-3",children:[Object(fe.jsx)("strong",{children:"Description:"})," ",b.description]})})]})]})]})},Ge=function(e,t){return function(){var a=Object(oe.a)(ie.a.mark((function a(r,c){var n,s;return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ue.a.get("".concat(de,"/").concat(je,"/products/").concat(e));case 2:n=a.sent,s=n.data,r({type:m,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()};var qe=function(e){var t=e.match,a=e.location,c=e.history,n=t.params.id,i=a.search?Number(a.search.split("=")[1]):1,o=Object(s.b)(),d=Object(s.c)((function(e){return e.cart})).cartItems;Object(r.useEffect)((function(){n&&o(Ge(n,i))}),[o,n,i]);var j=function(e){o(function(e){return function(t,a){t({type:f,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))}}(e))};return Object(fe.jsxs)(ye.a,{children:[Object(fe.jsxs)(ve.a,{md:8,children:[Object(fe.jsx)("h1",{children:"Shopping Cart"}),0===d.length?Object(fe.jsx)(Pe,{variant:"info",text:"Your cart is empty!"}):Object(fe.jsx)(De.a,{variant:"flush",children:d.map((function(e){return Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{md:2,children:Object(fe.jsx)(Ae.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(fe.jsx)(ve.a,{md:3,children:Object(fe.jsxs)(Ce.Link,{to:"/product/".concat(e.product),children:[" ",e.name]})}),Object(fe.jsxs)(ve.a,{md:2,children:["$",e.price]}),Object(fe.jsx)(ve.a,{md:3,children:Object(fe.jsx)(Ue.a.Control,{as:"select",value:e.qty,onChange:function(t){return o(Ge(e.product,Number(t.target.value)))},children:Object(x.a)(Array(e.countInStock).keys()).map((function(e){return Object(fe.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(fe.jsx)(ve.a,{md:1,children:Object(fe.jsx)(Fe.a,{type:"button",variant:"light",onClick:function(){return j(e.product)},children:Object(fe.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(fe.jsx)(ve.a,{md:4,children:Object(fe.jsx)(Se.a,{children:Object(fe.jsxs)(De.a,{children:[Object(fe.jsxs)(De.a.Item,{children:[Object(fe.jsxs)("h2",{children:["Subtotal (",d.reduce((function(e,t){return e+t.qty}),0),") items"]}),"$",d.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsx)(Fe.a,{type:"button",className:"btn-block",disabled:0===d.length,onClick:function(){c.push("/login?redirect=shipping")},children:"Proceed To Checkout"})})]})})})]})};var $e=function(e){var t=e.children;return Object(fe.jsx)(ae.a,{children:Object(fe.jsx)(ye.a,{className:"justify-content-md-center",children:Object(fe.jsx)(ve.a,{xs:12,md:6,children:t})})})};var Je=function(e){var t=e.location,a=e.history,c=t.search?t.search.split("=")[1]:"/";"success"!==c&&"fail"!==c||(c="/");var n=t.search?t.search.split("=")[1]:"",i=Object(s.b)(),o=Object(s.c)((function(e){return e.userLogin})),d=o.error,j=o.userInfo,l=o.loading,u=Object(r.useState)(""),b=Object(Te.a)(u,2),h=b[0],p=b[1],O=Object(r.useState)(""),x=Object(Te.a)(O,2),m=x[0],f=x[1],g=Object(r.useState)(""),y=Object(Te.a)(g,2),v=y[0],C=y[1];return Object(r.useEffect)((function(){if(j)a.push(c);else if(!j)switch(n){case"success":C("Your account successfully activated. Now you can login");break;case"fail":C("Your activation link isn't valid. Please go to register page and try again.");break;default:C("")}}),[a,j,c,n]),Object(fe.jsxs)($e,{children:[Object(fe.jsx)("h1",{children:"sign in"}),l?Object(fe.jsx)(Ne,{}):d?Object(fe.jsx)(Pe,{variant:"danger",text:d}):"success"===n?Object(fe.jsx)(Pe,{variant:"success",text:v}):"fail"===n?Object(fe.jsx)(Pe,{variant:"danger",text:v}):Object(fe.jsx)(fe.Fragment,{}),Object(fe.jsxs)(Ue.a,{onSubmit:function(e){e.preventDefault(),i(function(e,t){return function(){var a=Object(oe.a)(ie.a.mark((function a(r){var c,n,s;return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:I}),c={header:{"Content-type":"application/json"}},a.next=5,ue.a.post("".concat(de,"/").concat(je,"/users/login/"),{username:e,password:t},c);case 5:n=a.sent,s=n.data,r({type:S,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),r({type:E,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(h,m))},children:[Object(fe.jsxs)(Ue.a.Group,{controlId:"email",children:[Object(fe.jsx)(Ue.a.Label,{children:"Email Address"}),Object(fe.jsx)(Ue.a.Control,{type:"email",placeholder:"Enter Email",value:h,onChange:function(e){return p(e.target.value)}})]}),Object(fe.jsxs)(Ue.a.Group,{controlId:"password",className:"my-4",children:[Object(fe.jsx)(Ue.a.Label,{children:"Password"}),Object(fe.jsx)(Ue.a.Control,{type:"password",placeholder:"Enter Password",value:m,onChange:function(e){return f(e.target.value)}})]}),Object(fe.jsx)(Fe.a,{type:"submit",variant:"primary",className:"col-4",children:"sign in"})]}),Object(fe.jsx)(ye.a,{className:"my-4",children:Object(fe.jsxs)(ve.a,{children:["New Customer ?",Object(fe.jsx)(Ce.Link,{to:c?"/register?redirect=".concat(c):"/register",children:"Register"})]})})]})};var Ye=function(e){var t=e.location,a=e.history,c=t.search?t.search.split("=")[1]:"/",n=Object(r.useState)(""),i=Object(Te.a)(n,2),o=i[0],d=i[1],j=Object(r.useState)(""),l=Object(Te.a)(j,2),u=l[0],b=l[1],h=Object(r.useState)(""),p=Object(Te.a)(h,2),O=p[0],x=p[1],m=Object(r.useState)(""),f=Object(Te.a)(m,2),g=f[0],y=f[1],v=Object(r.useState)(""),I=Object(Te.a)(v,2),S=I[0],E=I[1],C=Object(r.useState)(""),k=Object(Te.a)(C,2),P=k[0],R=k[1],w=Object(s.b)(),T=Object(s.c)((function(e){return e.userRegister})),A=T.userInfo,D=T.error,U=T.loading;return Object(r.useEffect)((function(){A&&A.detail&&R(A.detail)}),[a,c,A]),Object(fe.jsxs)($e,{children:[Object(fe.jsx)("h1",{children:"sign up"}),U?Object(fe.jsx)(Ne,{}):D?Object(fe.jsx)(Pe,{variant:"danger",text:D}):P?Object(fe.jsx)(Pe,{variant:"warning",text:P}):S?Object(fe.jsx)(Pe,{variant:"danger",text:S}):Object(fe.jsx)(fe.Fragment,{}),Object(fe.jsxs)(Ue.a,{onSubmit:function(e){e.preventDefault(),O!==g?E("Password and confirm password do not match !"):(w(function(e,t,a){return function(){var r=Object(oe.a)(ie.a.mark((function r(c){var n,s,i;return ie.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:L}),n={header:{"Content-type":"application/json"}},r.next=5,ue.a.post("".concat(de,"/").concat(je,"/users/register/"),{name:e,email:t,password:a},n);case 5:s=r.sent,i=s.data,c({type:_,payload:i}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),c({type:N,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()}(o,u,O)),d(""),b(""),x(""),y(""),E(""))},children:[Object(fe.jsxs)(Ue.a.Group,{controlId:"name",children:[Object(fe.jsx)(Ue.a.Label,{children:"FullName"}),Object(fe.jsx)(Ue.a.Control,{type:"text",placeholder:"Enter FullName",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(fe.jsxs)(Ue.a.Group,{className:"mt-4",controlId:"email",children:[Object(fe.jsx)(Ue.a.Label,{children:"Email Address"}),Object(fe.jsx)(Ue.a.Control,{type:"email",placeholder:"Enter Email",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(fe.jsxs)(Ue.a.Group,{className:"mt-4",controlId:"password",children:[Object(fe.jsx)(Ue.a.Label,{children:"Password"}),Object(fe.jsx)(Ue.a.Control,{type:"password",placeholder:"Enter Password",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(fe.jsxs)(Ue.a.Group,{className:"mt-4",controlId:"confirmPassword",children:[Object(fe.jsx)(Ue.a.Label,{children:"Confirm Password"}),Object(fe.jsx)(Ue.a.Control,{type:"password",placeholder:"Enter Confirm Password",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(fe.jsx)(Fe.a,{type:"submit",className:"my-4 col-4",children:"register"})]}),Object(fe.jsx)(ye.a,{className:"my-4",children:Object(fe.jsxs)(ve.a,{children:["Have an Account ?",Object(fe.jsx)(Ce.Link,{to:c?"/login?redirect=".concat(c):"/login",children:"Login"})]})})]})},Qe=a(126);var Be=function(e){var t=e.history,a=Object(s.b)(),c=Object(r.useState)(""),n=Object(Te.a)(c,2),i=n[0],o=n[1],d=Object(r.useState)(""),j=Object(Te.a)(d,2),l=j[0],u=j[1],b=Object(r.useState)(""),h=Object(Te.a)(b,2),p=h[0],O=h[1],x=Object(r.useState)(""),m=Object(Te.a)(x,2),f=m[0],g=m[1],y=Object(r.useState)(""),v=Object(Te.a)(y,2),I=v[0],E=v[1],C=Object(r.useState)(""),L=Object(Te.a)(C,2),_=L[0],N=L[1],w=Object(s.c)((function(e){return e.userLogin})).userInfo,F=Object(s.c)((function(e){return e.userDetails})),M=F.user,G=F.error,q=F.loading,$=Object(s.c)((function(e){return e.userUpdateProfile})),J=$.success,Y=$.error,V=$.loading,z=Object(s.c)((function(e){return e.orderListMy})),X=z.orders,W=z.error,K=z.loading,Z=!1,ee="";(q||V)&&(Z=!0),G?ee=G:Y&&(ee=Y);var te="Token is invalid or expired";return Object(r.useEffect)((function(){var e;G!==te&&Y!==te||(a(xe()),t.push("/login?redirect=/profile")),w?M&&M.name&&!J?(u(M.email),o(M.name)):(a({type:U}),a((e="profile",function(){var t=Object(oe.a)(ie.a.mark((function t(a,r){var c,n,s,i,o;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:k}),c=r(),n=c.userLogin.userInfo,s=Oe(n,a),t.next=6,s.get("".concat(de,"/").concat(je,"/users/").concat(e));case 6:i=t.sent,o=i.data,a({type:P,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:R,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}())),a(function(){var e=Object(oe.a)(ie.a.mark((function e(t,a){var r,c,n,s,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Q}),r=a(),c=r.userLogin.userInfo,n=Oe(c,t),e.next=6,n.get("".concat(de,"/").concat(je,"/orders/my/"));case 6:s=e.sent,i=s.data,t({type:B,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:H,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())):t.push("/login")}),[t,w,M,a,J,G,Y]),Object(fe.jsxs)(ye.a,{children:[Object(fe.jsxs)(ve.a,{md:3,children:[Object(fe.jsx)("h2",{children:"my profile"}),Z?Object(fe.jsx)(Ne,{}):ee?Object(fe.jsx)(Pe,{variant:"danger",text:ee}):I?Object(fe.jsx)(Pe,{variant:"danger",text:I}):_?Object(fe.jsx)(Pe,{variant:"success",text:_}):Object(fe.jsx)(fe.Fragment,{}),Object(fe.jsxs)(Ue.a,{onSubmit:function(e){e.preventDefault(),p!==f?E("Passwords do not match !"):(a(function(e){return function(){var t=Object(oe.a)(ie.a.mark((function t(a,r){var c,n,s,i,o;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:T}),c=r(),n=c.userLogin.userInfo,s=Oe(n,a),t.next=6,s.put("".concat(de,"/").concat(je,"/users/profile/update/"),e);case 6:i=t.sent,o=i.data,n.name=o.name,a({type:A,payload:n}),a({type:S,payload:n}),localStorage.setItem("userInfo",JSON.stringify(n)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),a({type:D,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:M._id,name:i,email:l,password:p})),E(""),O(""),g(""),N("Profile successfully updated !"))},children:[Object(fe.jsxs)(Ue.a.Group,{controlId:"name",children:[Object(fe.jsx)(Ue.a.Label,{children:"FullName"}),Object(fe.jsx)(Ue.a.Control,{type:"text",placeholder:"Enter FullName",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(fe.jsxs)(Ue.a.Group,{className:"mt-4",controlId:"email",children:[Object(fe.jsx)(Ue.a.Label,{children:"Email Address"}),Object(fe.jsx)(Ue.a.Control,{type:"email",placeholder:"Enter Email",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(fe.jsxs)(Ue.a.Group,{className:"mt-4",controlId:"password",children:[Object(fe.jsx)(Ue.a.Label,{children:"Password"}),Object(fe.jsx)(Ue.a.Control,{type:"password",placeholder:"Enter Password",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(fe.jsxs)(Ue.a.Group,{className:"mt-4",controlId:"confirmPassword",children:[Object(fe.jsx)(Ue.a.Label,{children:"Confirm Password"}),Object(fe.jsx)(Ue.a.Control,{type:"password",placeholder:"Enter Confirm Password",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(fe.jsx)(Fe.a,{type:"submit",className:"my-4 col-6",disabled:!0===Z,children:"update"})]})]}),Object(fe.jsxs)(ve.a,{md:9,children:[Object(fe.jsx)("h2",{children:"my orders"}),K?Object(fe.jsx)(Ne,{}):W?Object(fe.jsx)(Pe,{variant:"danger",text:W}):X&&0===X.length?Object(fe.jsx)(Pe,{variant:"warning",text:"There is no any order !"}):Object(fe.jsxs)(Qe.a,{striped:!0,responsive:!0,className:"table-sm text-center",children:[Object(fe.jsx)("thead",{children:Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("th",{children:"id"}),Object(fe.jsx)("th",{children:"date"}),Object(fe.jsx)("th",{children:"total"}),Object(fe.jsx)("th",{children:"paid"}),Object(fe.jsx)("th",{children:"delivered"}),Object(fe.jsx)("th",{})]})}),Object(fe.jsx)("tbody",{children:X.map((function(e){return Object(fe.jsxs)("tr",{className:e.isPaid&&e.isDelivered?"bg-success text-white":"",children:[Object(fe.jsxs)("td",{children:["#",e._id]}),Object(fe.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(fe.jsxs)("td",{children:["$ ",e.totalPrice]}),Object(fe.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(fe.jsx)("i",{className:"fas fa-times text-danger"})}),Object(fe.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(fe.jsx)("i",{className:"fas fa-times text-danger"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(ne.LinkContainer,{to:"/order/".concat(e._id),children:Object(fe.jsx)(Fe.a,{className:"btn-sm",children:"details"})})})]},e._id)}))})]})]})]})};var He=function(e){var t=e.step1,a=e.step2,r=e.step3,c=e.step4;return Object(fe.jsxs)(re.a,{className:"mb-4 justify-content-center",children:[Object(fe.jsx)(re.a.Item,{children:t?Object(fe.jsx)(ne.LinkContainer,{to:"/login?redirect=/shipping",children:Object(fe.jsx)(re.a.Link,{children:"Login"})}):Object(fe.jsx)(re.a.Link,{disabled:!0,children:"Login"})}),Object(fe.jsx)(re.a.Item,{children:a?Object(fe.jsx)(ne.LinkContainer,{to:"/shipping",children:Object(fe.jsx)(re.a.Link,{children:"Shipping"})}):Object(fe.jsx)(re.a.Link,{disabled:!0,children:"Shipping"})}),Object(fe.jsx)(re.a.Item,{children:r?Object(fe.jsx)(ne.LinkContainer,{to:"/payment",children:Object(fe.jsx)(re.a.Link,{children:"Payment"})}):Object(fe.jsx)(re.a.Link,{disabled:!0,children:"Payment"})}),Object(fe.jsx)(re.a.Item,{children:c?Object(fe.jsx)(ne.LinkContainer,{to:"/placeorder",children:Object(fe.jsx)(re.a.Link,{children:"PlaceOrder"})}):Object(fe.jsx)(re.a.Link,{disabled:!0,children:"PlaceOrder"})})]})};var Ve=function(e){var t=e.history,a=Object(s.b)(),c=Object(s.c)((function(e){return e.cart})).shippingAddress,n=Object(r.useState)(c.postalCode),i=Object(Te.a)(n,2),o=i[0],d=i[1],j=Object(r.useState)(c.address),l=Object(Te.a)(j,2),u=l[0],b=l[1],h=Object(r.useState)(c.city),p=Object(Te.a)(h,2),O=p[0],x=p[1],m=Object(r.useState)(c.country),f=Object(Te.a)(m,2),y=f[0],v=f[1];return Object(fe.jsxs)($e,{children:[Object(fe.jsx)(He,{step1:!0,step2:!0}),Object(fe.jsx)("h1",{children:"shipping"}),Object(fe.jsxs)(Ue.a,{onSubmit:function(e){var r;e.preventDefault(),a((r={postalCode:o,address:u,city:O,country:y},function(e,t){e({type:g,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r))})),t.push("/payment")},children:[Object(fe.jsxs)(Ue.a.Group,{controlId:"postalCode",className:"mt-4",children:[Object(fe.jsx)(Ue.a.Label,{children:"Postal Code"}),Object(fe.jsx)(Ue.a.Control,{required:!0,type:"text",placeholder:"Enter postal code",value:o||"",onChange:function(e){return d(e.target.value)}})]}),Object(fe.jsxs)(Ue.a.Group,{controlId:"address",className:"mt-4",children:[Object(fe.jsx)(Ue.a.Label,{children:"Address"}),Object(fe.jsx)(Ue.a.Control,{required:!0,type:"text",placeholder:"Enter address",value:u||"",onChange:function(e){return b(e.target.value)}})]}),Object(fe.jsxs)(Ue.a.Group,{controlId:"city",className:"mt-4",children:[Object(fe.jsx)(Ue.a.Label,{children:"City"}),Object(fe.jsx)(Ue.a.Control,{required:!0,type:"text",placeholder:"Enter city",value:O||"",onChange:function(e){return x(e.target.value)}})]}),Object(fe.jsxs)(Ue.a.Group,{controlId:"country",className:"mt-4",children:[Object(fe.jsx)(Ue.a.Label,{children:"Country"}),Object(fe.jsx)(Ue.a.Control,{required:!0,type:"text",placeholder:"Enter country",value:y||"",onChange:function(e){return v(e.target.value)}})]}),Object(fe.jsx)(Fe.a,{type:"submit",className:"col-4 mt-4",children:"Continue"})]})]})};var ze=function(e){var t=e.history,a=Object(s.b)(),c=Object(r.useState)("IdPay"),n=Object(Te.a)(c,2),i=n[0],o=n[1];return Object(s.c)((function(e){return e.cart})).shippingAddress.address||t.push("/shipping"),Object(fe.jsxs)($e,{children:[Object(fe.jsx)(He,{step1:!0,step2:!0,step3:!0}),Object(fe.jsxs)(Ue.a,{onSubmit:function(e){var r;e.preventDefault(),a((r=i,function(e){e({type:y,payload:r}),localStorage.setItem("paymentMethod",JSON.stringify(r))})),t.push("/placeorder")},children:[Object(fe.jsxs)(Ue.a.Group,{children:[Object(fe.jsx)(Ue.a.Label,{as:"legend",children:"Select Method"}),Object(fe.jsx)(Ue.a.Check,{name:"paymentMethod",id:"idpay",label:"IdPay or Credit Card",type:"radio",onChange:function(e){return o(e.target.value)},className:"py-4",checked:!0})]}),Object(fe.jsx)(Fe.a,{type:"submit",className:"col-4",children:"Continue"})]})]})};var Xe=function(e){var t=e.history,a=Object(s.b)(),c=Object(s.c)((function(e){return e.orderCreate})),n=c.success,i=c.order,o=c.error,d=c.loading,j=Object(s.c)((function(e){return e.cart}));return j.itemsPrice=j.cartItems.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2),j.shippingPrice=(j.itemsPrice>100?0:10).toFixed(2),j.taxPrice=Number(.082*j.itemsPrice).toFixed(2),j.totalPrice=(Number(j.itemsPrice)+Number(j.shippingPrice)+Number(j.taxPrice)).toFixed(2),Object(r.useEffect)((function(){n&&(t.push("/order/".concat(i._id)),a({type:q}))}),[n,t]),Object(fe.jsxs)("div",{children:[Object(fe.jsx)(He,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{md:8,children:Object(fe.jsxs)(De.a,{variant:"flush",children:[Object(fe.jsxs)(De.a.Item,{children:[Object(fe.jsx)("h2",{children:"shipping"}),Object(fe.jsxs)("p",{children:[Object(fe.jsx)("strong",{children:"Shipping: "}),j.shippingAddress.country," -"," ",j.shippingAddress.city," -"," ",j.shippingAddress.address," / Postal Code: ",j.shippingAddress.postalCode]})]}),Object(fe.jsxs)(De.a.Item,{children:[Object(fe.jsx)("h2",{children:"payment method"}),Object(fe.jsxs)("p",{children:[Object(fe.jsx)("strong",{children:"Method: "}),j.paymentMethod]})]}),Object(fe.jsxs)(De.a.Item,{children:[Object(fe.jsx)("h2",{children:"order items"}),0===j.cartItems.length?Object(fe.jsx)(Pe,{variant:"info",text:"Your cart is empty !"}):Object(fe.jsx)(De.a,{variant:"flush",children:j.cartItems.map((function(e,t){return Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{md:2,className:"my-auto",children:Object(fe.jsx)(Ae.a,{src:e.image,alt:e.name,fluid:!0})}),Object(fe.jsx)(ve.a,{className:"my-auto",children:Object(fe.jsx)(Ce.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(fe.jsxs)(ve.a,{md:4,className:"my-auto",children:[e.qty," X ",e.price," = $ ",(e.price*e.qty).toFixed(2)]})]})})}))})]})]})}),Object(fe.jsx)(ve.a,{md:4,children:Object(fe.jsx)(Se.a,{children:Object(fe.jsxs)(De.a,{variant:"flush",children:[Object(fe.jsx)(De.a.Item,{children:Object(fe.jsx)("h2",{children:"order summary"})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Items: "}),Object(fe.jsxs)(ve.a,{children:["$ ",j.itemsPrice]})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Shipping: "}),Object(fe.jsxs)(ve.a,{children:["$ ",j.shippingPrice]})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Tax: "}),Object(fe.jsxs)(ve.a,{children:["$ ",j.taxPrice]})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Total: "}),Object(fe.jsxs)(ve.a,{children:["$ ",j.totalPrice]})]})}),d?Object(fe.jsx)(De.a.Item,{children:Object(fe.jsx)(Ne,{})}):o?Object(fe.jsx)(De.a.Item,{children:Object(fe.jsx)(Pe,{variant:"danger",text:o})}):Object(fe.jsx)(fe.Fragment,{}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsx)(Fe.a,{type:"button",onClick:function(){a(function(e){return function(){var t=Object(oe.a)(ie.a.mark((function t(a,r){var c,n,s,i,o;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:F}),c=r(),n=c.userLogin.userInfo,s=Oe(n,a),t.next=6,s.post("".concat(de,"/").concat(je,"/orders/add/"),e);case 6:i=t.sent,o=i.data,a({type:M,payload:o}),a({type:v}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:G,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({orderItems:j.cartItems,shippingAddress:j.shippingAddress,paymentMethod:j.paymentMethod,itemsPrice:j.itemsPrice,shippingPrice:j.shippingPrice,taxPrice:j.taxPrice,totalPrice:j.totalPrice}))},disabled:0===j.cartItems.length,className:"btn-block",children:"Place Order"})})]})})})]})]})};var We=function(e){var t=e.match.params.id,a=Object(s.b)(),c=Object(s.c)((function(e){return e.orderDetails})),n=c.order,i=c.error,o=c.loading;o||i||(n.itemsPrice=n.orderItems.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)),Object(r.useEffect)((function(){var e;n&&n._id===Number(t)||a((e=t,function(){var t=Object(oe.a)(ie.a.mark((function t(a,r){var c,n,s,i,o;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:$}),c=r(),n=c.userLogin.userInfo,s=Oe(n,a),t.next=6,s.get("".concat(de,"/").concat(je,"/orders/").concat(e,"/"));case 6:i=t.sent,o=i.data,a({type:J,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Y,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[n,t,a]);var d=Object(r.useState)(""),j=Object(Te.a)(d,2),l=j[0],u=j[1],b=Object(s.c)((function(e){return e.userLogin})).userInfo,h=Oe(b,a);return o?Object(fe.jsx)(Ne,{}):i?Object(fe.jsx)(Pe,{variant:"danger",text:i}):Object(fe.jsxs)("div",{children:[Object(fe.jsxs)("h1",{children:["order: #",n._id]}),Object(fe.jsx)("hr",{}),Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{md:8,children:Object(fe.jsxs)(De.a,{variant:"flush",children:[Object(fe.jsxs)(De.a.Item,{children:[Object(fe.jsx)("h2",{children:"shipping"}),Object(fe.jsxs)("p",{children:[Object(fe.jsx)("strong",{children:"Name: "}),n.user.name]}),Object(fe.jsxs)("p",{children:[Object(fe.jsx)("strong",{children:"Email: "}),Object(fe.jsx)("a",{href:"mailto:".concat(n.user.email),children:n.user.email})]}),Object(fe.jsxs)("p",{children:[Object(fe.jsx)("strong",{children:"Shipping: "}),n.shippingAddress.country," -"," ",n.shippingAddress.city," -"," ",n.shippingAddress.address," / Postal Code: ",n.shippingAddress.postalCode]}),n.isDelivered?Object(fe.jsx)(Pe,{variant:"success",text:"Delivered on ".concat(n.deliveredAt)}):Object(fe.jsx)(Pe,{variant:"warning",text:"Not delivered"})]}),Object(fe.jsxs)(De.a.Item,{children:[Object(fe.jsx)("h2",{children:"payment method"}),Object(fe.jsxs)("p",{children:[Object(fe.jsx)("strong",{children:"Method: "}),n.paymentMethod]}),n.isPaid?Object(fe.jsx)(Pe,{variant:"success",text:"Paid on ".concat(n.paidAt)}):Object(fe.jsx)(Pe,{variant:"warning",text:"Not paid"})]}),Object(fe.jsxs)(De.a.Item,{children:[Object(fe.jsx)("h2",{children:"order items"}),0===n.orderItems.length?Object(fe.jsx)(Pe,{variant:"info",text:"Your order is empty !"}):Object(fe.jsx)(De.a,{variant:"flush",children:n.orderItems.map((function(e,t){return Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{md:2,className:"my-auto",children:Object(fe.jsx)(Ae.a,{src:e.image,alt:e.name,fluid:!0})}),Object(fe.jsx)(ve.a,{className:"my-auto",children:Object(fe.jsx)(Ce.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(fe.jsxs)(ve.a,{md:4,className:"my-auto",children:[e.qty," X ",e.price," = $ ",(e.price*e.qty).toFixed(2)]})]})})}))})]})]})}),Object(fe.jsx)(ve.a,{md:4,children:Object(fe.jsx)(Se.a,{children:Object(fe.jsxs)(De.a,{variant:"flush",children:[Object(fe.jsx)(De.a.Item,{children:Object(fe.jsx)("h2",{children:"order summary"})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Items: "}),Object(fe.jsxs)(ve.a,{children:["$ ",n.itemsPrice]})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Shipping: "}),Object(fe.jsxs)(ve.a,{children:["$ ",n.shippingPrice]})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Tax: "}),Object(fe.jsxs)(ve.a,{children:["$ ",n.taxPrice]})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Total: "}),Object(fe.jsxs)(ve.a,{children:["$ ",n.totalPrice]})]})}),Object(fe.jsx)(De.a.Item,{className:l?"":"d-none",children:Object(fe.jsx)(Pe,{variant:"danger",text:l})}),Object(fe.jsx)(De.a.Item,{className:n.isPaid?"d-none":"",children:Object(fe.jsx)(Fe.a,{type:"button",onClick:function(){(function(e,t){return e.get("".concat(de,"/").concat(je,"/orders/").concat(t,"/pay/"))})(h,t).then((function(e){window.location.assign(e.data.link)})).catch((function(e){e.response.data&&e.response.data.detail?u(e.response.data.detail):u(e.response.data)}))},children:"pay order"})})]})})})]})]})};var Ke=function(e){var t=e.match,a=e.history,c=Object(r.useState)(!1),n=Object(Te.a)(c,2),i=n[0],o=n[1],d=Object(r.useState)(""),j=Object(Te.a)(d,2),l=j[0],u=j[1],b=Object(r.useState)(""),h=Object(Te.a)(b,2),p=h[0],O=h[1],x=Object(r.useState)(""),m=Object(Te.a)(x,2),f=m[0],g=m[1],y=Object(r.useState)(""),v=Object(Te.a)(y,2),I=v[0],S=v[1],E=Object(r.useState)(""),C=Object(Te.a)(E,2),L=C[0],_=C[1],N=t.params.oid,k=t.params.trackId,P={transId:t.params.transId,track_id:k},R=Object(s.b)(),w=Object(s.c)((function(e){return e.userLogin})).userInfo,T=Oe(w,R);return Object(r.useEffect)((function(){(function(e,t,a){return e.post("".concat(de,"/").concat(je,"/orders/").concat(t,"/inquirypay/"),a)})(T,N,P).then((function(e){var t=e.data;t.success&&o(!0),u(t.message),S(t.order_id),O(t.status),g(t.track_id)})).catch((function(e){e.response&&e.response.data.detail?_(e.response.data.detail):_(e.message)}))})),Object(fe.jsx)("div",{children:L||l?L?Object(fe.jsx)(Pe,{variant:"danger",text:L}):Object(fe.jsx)($e,{children:Object(fe.jsxs)(De.a,{variant:"flush",className:"text-center",children:[Object(fe.jsxs)(De.a.Item,{children:[Object(fe.jsx)("h2",{className:i?"text-success":"text-danger",children:i?"Transaction success":"Transaction fail"}),Object(fe.jsx)("small",{children:l})]}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Status Code"}),Object(fe.jsx)(ve.a,{children:p})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Track IDPAY"}),Object(fe.jsx)(ve.a,{children:f})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsxs)(ye.a,{children:[Object(fe.jsx)(ve.a,{children:"Order NO"}),Object(fe.jsx)(ve.a,{children:I})]})}),Object(fe.jsx)(De.a.Item,{children:Object(fe.jsx)(Fe.a,{onClick:function(){I&&a.push("/order/".concat(I))},children:"order details"})})]})}):Object(fe.jsx)(Ne,{})})},Ze=a(78),et=["children"],tt=function(e){var t=e.children,a=Object(Ze.a)(e,et),r=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(fe.jsx)(we.d,Object(j.a)(Object(j.a)({},a),{},{children:r?t:Object(fe.jsx)(we.c,{to:"/login?redirect=".concat(a.path)})}))};var at=function(){return Object(fe.jsxs)(Ce.HashRouter,{children:[Object(fe.jsx)(ge,{}),Object(fe.jsx)("main",{children:Object(fe.jsxs)(ae.a,{className:"py-3",children:[Object(fe.jsx)(we.d,{path:"/",component:Re,exact:!0}),Object(fe.jsx)(we.d,{path:"/login",component:Je}),Object(fe.jsx)(we.d,{path:"/register",component:Ye}),Object(fe.jsx)(tt,{path:"/profile",component:Be}),Object(fe.jsx)(we.d,{path:"/shipping",component:Ve}),Object(fe.jsx)(we.d,{path:"/payment",component:ze}),Object(fe.jsx)(we.d,{path:"/placeorder",component:Xe}),Object(fe.jsx)(we.d,{path:"/order/:id",component:We}),Object(fe.jsx)(we.d,{path:"/product/:id",component:Me}),Object(fe.jsx)(we.d,{path:"/cart/:id?",component:qe}),Object(fe.jsx)(tt,{path:"/payresult/:trackId/:oid/:transId",component:Ke})]})}),Object(fe.jsx)(Ie,{})]})},rt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,134)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),r(e),c(e),n(e),s(e)}))};n.a.render(Object(fe.jsx)(s.a,{store:ee,children:Object(fe.jsx)(at,{})}),document.getElementById("root")),rt()},88:function(e,t,a){},89:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.6988e308.chunk.js.map